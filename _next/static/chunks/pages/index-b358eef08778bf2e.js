(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6748)}])},6748:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var r=n(5893),a=n(7294),i=n(3750),o=n(8193);function s(e){return function(e){return new Date(1e3*e).toISOString().substr(11,8)}(e).split(":")}var l=n(1472),c=function(e){var t=(0,a.useRef)();return(0,a.useEffect)((function(){t.current=e})),t.current};function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(l){s=!0,a=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=function(e){return/^\d+$/.test(e)},x=function(e){var t=e.isBreak,n=e.paused,u=e.time,f=e.breakDuration,x=e.play,y=e.timerDuration,h=e.onClickPlay,v=e.onClickStop,g=e.onBreakChange,b=e.onTimerChange,j=(c(s(u)),p(s(u),3)),w=j[0],k=j[1],N=j[2],S=p(s(y),3),O=S[0],C=S[1],E=S[2],D=(0,a.useState)({hrs:O,mins:C,sec:E}),P=D[0],z=D[1];(0,a.useEffect)((function(){if(b){var e=P.hrs,t=P.mins,n=P.sec;b(Number(e),Number(t),Number(n))}}),[P]),(0,a.useEffect)((function(){}),[u]);var I=(0,l.useSpring)({y:t?0:25});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{id:"play-button",onClick:h,className:"text-2xl",children:[" ",n?(0,r.jsx)(i.mz0,{}):(0,r.jsx)(i.obJ,{})]}),(0,r.jsxs)("div",{className:"w-full flex justify-center items-center font-bold text-xl",children:[(0,r.jsx)("div",{className:"",children:"Break Duration:"}),(0,r.jsx)("div",{className:"w-12 ",children:(0,r.jsx)("input",{disabled:!n,onChange:function(e){!function(e){var t=e.currentTarget.value;m(t)||(t="0"),Number(t)>9&&(t=t.replaceAll("0","")),e.currentTarget.value=t}(e),g&&g(e)},defaultValue:String(Math.floor(f/60)).padStart(2,"0"),className:"w-full text-center bg-transparent focus:outline-none"})}),(0,r.jsx)("div",{children:"Minutes"})]}),t&&(0,r.jsx)(l.animated.div,{style:I,className:" text-2xl md:text-4xl text-red-400",children:"It's Break Time!"}),!x&&(0,r.jsx)("div",{className:" text-2xl md:text-4xl text-white",children:"Set your timer duration.."}),(0,r.jsxs)("div",{className:"w-full flex  justify-center gap-x-4 md:gap-x-16 items-center text-xl md:text-4xl ",children:[(0,r.jsx)("div",{className:"text-6xl md:text-8xl text-red-500",children:"["}),(0,r.jsxs)("div",{className:"flex justify-center items-center flex-col my-6",children:[(0,r.jsxs)("div",{className:"w-16 text-center ",children:[x&&(0,r.jsx)("div",{id:"hr-display",className:"text-center w-full flex items-center justify-center",children:w}),!x&&(0,r.jsx)("input",{id:"hr",onChange:function(e){var t=e.target.value;""!==t?(t&&m(t)||(t="0"),z((function(e){return d({},e,{hrs:t})}))):z((function(e){return d({},e,{hrs:t})}))},value:P.hrs,className:"w-16 ring-2 ring-neutral-800 focus:ring-red-500 text-center bg-transparent focus:outline-none"})]}),(0,r.jsx)("div",{className:"text-2xl text-center",children:" Hr"})]}),(0,r.jsx)("div",{children:":"}),(0,r.jsx)("div",{className:"flex justify-center items-center flex-col",children:(0,r.jsxs)("div",{className:"w-16 ",children:[x&&(0,r.jsx)("div",{id:"min-display",className:"text-center w-full",children:k}),!x&&(0,r.jsx)("input",{id:"min",onChange:function(e){var t=e.target.value;""!==t?(t&&m(t)||(t="0"),z((function(e){return d({},e,{mins:t})}))):z((function(e){return d({},e,{mins:t})}))},value:P.mins,className:"w-16 ring-2 ring-neutral-800 focus:ring-red-500 text-center bg-transparent focus:outline-none"}),(0,r.jsx)("div",{className:"text-2xl text-center",children:"Min"})]})}),(0,r.jsx)("div",{children:":"}),(0,r.jsxs)("div",{className:"flex justify-center items-center flex-col",children:[(0,r.jsxs)("div",{className:"w-16 ",children:[x&&(0,r.jsx)("div",{id:"sec-display",className:"text-center w-full flex items-center justify-center",children:N}),!x&&(0,r.jsx)("input",{id:"sec",onChange:function(e){var t=e.target.value;""!==t?(t&&m(t)||(t="0"),z((function(e){return d({},e,{sec:t})}))):z((function(e){return d({},e,{sec:t})}))},value:P.sec,className:"w-16 ring-2 ring-neutral-800 focus:ring-red-500 bg-transparent focus:outline-none text-center"})]}),(0,r.jsx)("div",{className:"text-2xl",children:"Sec"})]}),(0,r.jsx)("div",{className:" text-6xl md:text-8xl text-red-500",children:"]"})]}),x&&(0,r.jsx)("button",{onClick:v,className:"text-2xl text-white",children:(0,r.jsx)(o.OwP,{})})]})};function y(){var e=(0,a.useState)({width:0,height:0}),t=e[0],n=e[1];return(0,a.useEffect)((function(){var e=function(){var e={width:window.innerWidth,height:window.innerHeight};n({width:e.width,height:e.height})};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),t}var h=function(e){var t=e.scale,n=y(),i=n.width,o=n.height,s=function(){var e=function(){r(window.innerWidth<720)},t=(0,a.useState)(!1),n=t[0],r=t[1];return(0,a.useEffect)((function(){return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),n}(),c=(0,l.useSpring)({scale:s?1.4+t:1+t});return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(l.animated.svg,{id:"visual",style:c,className:"",viewBox:"0 0 ".concat(i," ").concat(o),width:i,height:o,xmlns:" http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",children:[(0,r.jsx)("rect",{x:"0",y:"0",width:i,height:o,fillOpacity:"0",fill:"#101010"}),(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:"grad1_0",x1:"33.3%",y1:"0%",x2:"100%",y2:"100%",children:[(0,r.jsx)("stop",{offset:"20%",stopColor:"#101010",stopOpacity:"1"}),(0,r.jsx)("stop",{offset:"80%",stopColor:"#101010",stopOpacity:"1"})]})}),(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:"grad2_0",x1:"0%",y1:"0%",x2:"66.7%",y2:"100%",children:[(0,r.jsx)("stop",{offset:"20%",stopColor:"#101010",stopOpacity:"1"}),(0,r.jsx)("stop",{offset:"80%",stopColor:"#101010",stopOpacity:"1"})]})}),(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{gradientTransform:"rotate(0)",id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,r.jsx)("stop",{offset:"10%",stopColor:" #F55555"}),(0,r.jsx)("stop",{offset:"100%",stopColor:"#FD6E5B "})]})}),(0,r.jsx)("g",{transform:"translate(".concat(i,", 0)"),children:(0,r.jsx)("path",{d:"M0 243.4C-36.5 226.9 -73 210.5 -111 192.3C-149 174 -188.5 154 -210.8 121.7C-233.1 89.3 -238.2 44.7 -243.4 0L0 0Z",fill:"url(#gradient)"})}),(0,r.jsx)("g",{transform:"translate(0, ".concat(o,")"),children:(0,r.jsx)("path",{d:"M0 -243.4C39.2 -231.5 78.3 -219.7 116 -200.9C153.7 -182.1 189.8 -156.3 210.8 -121.7C231.7 -87 237.6 -43.5 243.4 0L0 0Z",fill:"url(#gradient)"})})]})})};function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){v(e,t,n[t])}))}return e}var b=function(e,t){switch(t.type){case"changebreak":return"number"===typeof t.payload?g({},e,{breakDuration:t.payload}):e;case"changetimer":return"number"===typeof t.payload?g({},e,{time:t.payload}):e;case"setplay":return"boolean"===typeof t.payload?g({},e,{play:t.payload}):e;case"setbreak":return"boolean"===typeof t.payload?g({},e,{isBreak:t.payload}):e;case"setpaused":return"boolean"===typeof t.payload?g({},e,{paused:t.payload}):e;case"settimerduration":return"number"===typeof t.payload?g({},e,{timerDuration:t.payload}):e}},j=n(5406),w=a.useLayoutEffect;var k=function(e,t,n){var r=(0,a.useRef)(t);w((function(){r.current=t}),[t]),(0,a.useEffect)((function(){var t=(null===n||void 0===n?void 0:n.current)||window;if(t&&t.addEventListener){var a=function(e){return r.current(e)};return t.addEventListener(e,a),function(){t.removeEventListener(e,a)}}}),[e,n])};var N=function(e,t){var n=(0,a.useCallback)((function(){try{var n=window.localStorage.getItem(e);return n?function(e){try{return"undefined"===e?void 0:JSON.parse(null!==e&&void 0!==e?e:"")}catch(t){return void console.log("parsing error on",{value:e})}}(n):t}catch(r){return console.warn("Error reading localStorage key \u201c".concat(e,"\u201d:"),r),t}}),[t,e]),r=(0,a.useState)(n),i=r[0],o=r[1],s=(0,a.useCallback)((function(t){try{var n=(r=t,(null!=(a=Function)&&"undefined"!==typeof Symbol&&a[Symbol.hasInstance]?a[Symbol.hasInstance](r):r instanceof a)?t(i):t);window.localStorage.setItem(e,JSON.stringify(n)),o(n),window.dispatchEvent(new Event("local-storage"))}catch(s){console.warn("Error setting localStorage key \u201c".concat(e,"\u201d:"),s)}var r,a}),[e,i]);(0,a.useEffect)((function(){o(n())}),[]);var l=(0,a.useCallback)((function(){o(n())}),[n]);return k("storage",l),k("local-storage",l),[i,s]};var S=n(5675);var O=n(9008);function C(){return(0,r.jsxs)(O.default,{children:[(0,r.jsx)("title",{children:"Lofi Doro "}),(0,r.jsx)("meta",{name:"og:title",content:"Lofi Doro"}),(0,r.jsx)("meta",{name:"og:description",content:"A pomodoro timer to study/relax to"}),(0,r.jsx)("meta",{name:"description",content:"A pomodoro timer to study/relax to"}),(0,r.jsx)("meta",{name:"og:image",content:"https://raw.githubusercontent.com/portableCoder/Lofi-Doro/master/assets/logo.png"}),(0,r.jsx)("link",{rel:"shortcut icon",href:"/Lofi-Doro/favicon.ico"}),(0,r.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/Lofi-Doro/apple-touch-icon.png"}),(0,r.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/Lofi-Doro/favicon-32x32.png"}),(0,r.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/Lofi-Doro/favicon-16x16.png"})]})}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){D(e,t,n[t])}))}return e}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(l){s=!0,a=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var I=function(){var e=y(),t=e.width,n=e.height,o=z(N("state",{timerState:{breakDuration:300,timerDuration:600},link:"https://www.youtube.com/watch?v=tgI6PjEq0O8"}),2),s=o[0],l=o[1],c=(0,a.useReducer)(b,{time:0,isBreak:!1,play:!1,breakDuration:s.timerState.breakDuration,paused:!0,timerDuration:s.timerState.timerDuration}),u=c[0],f=c[1];!function(e,t){var n=(0,a.useRef)((function(){}));(0,a.useEffect)((function(){n.current=e}),[e]),(0,a.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){var e=u.time+1;if(e!==u.timerDuration||u.isBreak)u.isBreak&&e===u.breakDuration?(f({payload:!1,type:"setbreak"}),f({payload:0,type:"changetimer"})):f({payload:e,type:"changetimer"});else if(f({payload:0,type:"changetimer"}),f({payload:!0,type:"setbreak"}),D)new Notification("It's break time")}),u.paused?1e11:1e3);var d=(0,a.useRef)(null),p=(0,a.useState)(!1),m=p[0],v=p[1],g=(0,a.useState)(s.link),w=g[0],k=g[1],O=function(e){var t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);return t&&t[7]&&11==t[7].length?t[7]:""}(w),E=(0,a.useState)(!1),D=E[0],I=E[1];return(0,a.useEffect)((function(){Notification&&("granted"!==Notification.permission?Notification.requestPermission().then((function(e){"granted"===e&&I(!0)})):"granted"===Notification.permission&&I(!0))}),[]),(0,a.useEffect)((function(){d.current&&(u.isBreak||!u.play||u.paused?d.current.target.pauseVideo():u.isBreak||u.paused||!u.play||d.current.target.playVideo())}),[u]),(0,a.useEffect)((function(){var e=u.breakDuration,t=u.timerDuration;l({link:w,timerState:{breakDuration:e,timerDuration:t}})}),[u,w]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C,{}),(0,r.jsxs)("main",{className:"overflow-hidden font-montserrat text-white",children:[m&&(0,r.jsx)("div",{onClick:function(e){e.preventDefault(),v(!1)},style:{width:t,height:n},className:"fixed z-50 top-0 left-0 bg-black opacity-90 "}),(0,r.jsxs)("div",{className:" px-6 md:px-16 w-full h-screen ",children:[(0,r.jsx)("div",{className:"fixed top-0 left-0 -z-50",children:(0,r.jsx)(h,{scale:u.isBreak||!u.paused?0:1})}),(0,r.jsx)("section",{style:{zIndex:-999},className:"w-screen h-screen bg-neutral-900 fixed left-0 top-0",children:(0,r.jsx)(S.default,{unoptimized:!0,id:"thumbnail-img",layout:"fill",alt:"youtube-thumbnail",src:"https://img.youtube.com/vi/".concat(O,"/maxresdefault.jpg"),className:"w-full h-full object-cover transition-all ".concat(O&&""!==O?"opacity-30":"opacity-0")})}),(0,r.jsx)("section",{}),(0,r.jsxs)("section",{className:" bg-transparent w-full h-full overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex justify-between w-full items-center my-2",children:[(0,r.jsxs)("div",{className:"text-2xl z-50 ",children:[(0,r.jsx)("button",{id:"menu-button",style:{zIndex:9999},className:" transition-all text-2xl md:text-4xl z-50 ".concat(m?"text-red-500":"text-white"),onClick:function(){v((function(e){return!e}))},children:m?(0,r.jsx)(i.z3f,{}):(0,r.jsx)(i.Pu8,{})}),(0,r.jsxs)("div",{className:" absolute left-0 flex flex-col justify-center items-center overflow-hidden ".concat(m?"opacity-100 scale-1":"opacity-0 scale-0"," "),children:[(0,r.jsx)(j.Z,{onReady:function(e){d.current=e},videoId:O&&""!==O?O:"",id:"player",className:"transition-all w-96 h-64 bg-red-400 rounded-md p-1   ".concat(m?"opacity-100 scale-1":"opacity-0 scale-0"),containerClassName:"w-screen flex justify-center items-center h-96 z-50"}),(0,r.jsxs)("div",{className:" transition-all z-50 ".concat(m?"opacity-100 scale-1":"opacity-0 scale-0","  "),children:[(0,r.jsx)("div",{children:"Video Link"}),(0,r.jsx)("input",{id:"link-input",value:w,onChange:function(e){k(e.target.value)},className:"ring-2 ring-neutral-800 p-2 focus:ring-red-500 w-80 md:w-96 bg-transparent z-50 py-1 focus:outline-none my-2",placeholder:"Add a Youtube video or playlist"})]})]})]}),(0,r.jsx)("div",{className:"text-2xl md:text-3xl font-bold tracking-wide md:tracking-wider",children:"Lofi Doro"}),(0,r.jsx)("div",{className:"transform scale-0 text-2xl md:text-4xl ",children:(0,r.jsxs)("button",{className:"focus:text-red-500 ",children:[" ",(0,r.jsx)(i.Pu8,{})]})})]}),(0,r.jsx)("div",{className:"h-full flex flex-col gap-y-4 justify-center items-center -my-24",children:(0,r.jsx)(x,P({onTimerChange:function(e,t,n){""!==e&&""!==t&&""!==n&&("number"==typeof e&&"number"==typeof t&&"number"==typeof n&&f({payload:3600*e+60*t+n,type:"settimerduration"}))},onBreakChange:function(e){f({payload:60*Number(e.target.value),type:"changebreak"})},onClickStop:function(){f({payload:!1,type:"setplay"}),f({payload:!1,type:"setbreak"}),f({payload:0,type:"changetimer"}),f({payload:u.breakDuration,type:"changebreak"}),f({payload:u.timerDuration,type:"settimerduration"}),f({payload:!0,type:"setpaused"})},onClickPlay:function(){!1===!u.paused&&d.current&&d.current.target.playVideo(),u.play||f({payload:!0,type:"setplay"}),f({payload:!u.paused,type:"setpaused"})}},u))})]})]})]})]})}}},function(e){e.O(0,[13,617,550,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);